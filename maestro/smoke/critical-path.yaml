appId: com.nutritionrx.app
name: Critical Path Smoke Test
tags:
  - smoke
  - critical
---
# ============================================
# CRITICAL PATH: Launch → Onboard → Verify Home → Navigate Tabs
# ============================================

# --- STEP 1: Launch fresh ---
- launchApp:
    clearState: true

# --- STEP 2: Complete onboarding ---
- runFlow: ../utils/complete-onboarding.yaml

# --- STEP 3: Verify Home Screen ---
- assertVisible:
    id: "home-screen"

# Verify home content is loaded (date label renders after isReady)
- extendedWaitUntil:
    visible:
      id: "home-date-label"
    timeout: 8000

# --- STEP 4: Navigate to Food tab ---
- tapOn:
    id: "tab-bar-food"

- extendedWaitUntil:
    visible:
      id: "add-food-screen"
    timeout: 5000

# Verify search input is present
- assertVisible:
    id: "add-food-search-input"

# --- STEP 5: Navigate to Progress tab ---
- tapOn:
    id: "tab-bar-progress"

- extendedWaitUntil:
    visible:
      id: "progress-screen"
    timeout: 5000

# --- STEP 6: Navigate to Settings tab ---
- tapOn:
    id: "tab-bar-settings"

- extendedWaitUntil:
    visible:
      id: "settings-screen"
    timeout: 5000

# --- STEP 7: Return to Home ---
- tapOn:
    id: "tab-bar-home"

- extendedWaitUntil:
    visible:
      id: "home-screen"
    timeout: 5000

- assertVisible:
    id: "home-date-label"

# --- SMOKE TEST COMPLETE ---
