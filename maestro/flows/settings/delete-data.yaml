appId: com.nutritionrx.app
name: Delete All Data
tags:
  - settings
  - delete
  - destructive
---
- launchApp:
    clearState: true
- runFlow: ../../utils/complete-onboarding.yaml

- tapOn:
    id: "tab-bar-settings"

- extendedWaitUntil:
    visible:
      id: "settings-screen"
    timeout: 5000

- scrollUntilVisible:
    element:
      id: "settings-delete-all-data-row"
    direction: DOWN

- tapOn:
    id: "settings-delete-all-data-row"

# Confirmation dialog should appear
- extendedWaitUntil:
    visible:
      id: "ui-confirm-dialog"
    timeout: 3000

# Cancel to not actually delete
- tapOn:
    id: "ui-confirm-dialog-cancel"

- waitForAnimationToEnd

- assertVisible:
    id: "settings-screen"
