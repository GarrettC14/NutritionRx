appId: com.nutritionrx.app
name: Legal Acknowledgment Flow
tags:
  - onboarding
  - legal
---
- launchApp:
    clearState: true

- extendedWaitUntil:
    visible:
      id: "legal-screen"
    timeout: 30000

- assertVisible:
    id: "legal-screen"

# Verify scroll view present
- assertVisible:
    id: "legal-scroll-view"

# Swipe to scroll to bottom (triggers onScroll events for hasScrolledToBottom)
- swipe:
    direction: UP
    duration: 500
- swipe:
    direction: UP
    duration: 500
- swipe:
    direction: UP
    duration: 500
- swipe:
    direction: UP
    duration: 500

# Wait for scroll-to-bottom detection
- extendedWaitUntil:
    visible:
      id: "legal-scroll-complete"
    timeout: 3000

# Tap checkbox â€” try by ID first (LogBox is now suppressed)
- tapOn:
    id: "legal-checkbox"

# Tap proceed button
- tapOn:
    id: "legal-proceed-button"

# Should move to onboarding
- extendedWaitUntil:
    visible:
      id: "onboarding-welcome-screen"
    timeout: 5000
