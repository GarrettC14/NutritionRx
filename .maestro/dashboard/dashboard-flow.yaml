# Dashboard E2E Test Suite
# Main dashboard functionality tests
#
# Usage: maestro test .maestro/dashboard/dashboard-flow.yaml

appId: com.nutritionrx.app

---
# Full dashboard flow test
- launchApp:
    clearState: true

- waitForAnimationToEnd

# Skip onboarding if present
- tapOn:
    text: "Skip"
    optional: true

- tapOn:
    text: "Maybe Later"
    optional: true

- waitForAnimationToEnd

# Navigate to Dashboard tab (assuming it's the main tab)
- tapOn:
    id: "home-tab"
    optional: true

- waitForAnimationToEnd

# Verify Dashboard screen title
- assertVisible:
    text: "Dashboard"

# Verify default widgets are present
- assertVisible:
    text: "Calories"

# Verify macro tracking
- assertVisible:
    text: "Protein"

- assertVisible:
    text: "Carbs"

- assertVisible:
    text: "Fat"

# Verify water tracker
- assertVisible:
    text: "Water"

# Verify meals section
- assertVisible:
    text: "Today's Meals"

# Test edit button
- tapOn:
    id: "edit-dashboard-button"
    optional: true

- tapOn:
    text: "Edit"
    optional: true

- waitForAnimationToEnd

# If edit mode is active, verify instruction banner
- assertVisible:
    text: "Long press and drag to reorder"
    optional: true

# Exit edit mode
- tapOn:
    text: "Done"
    optional: true

- waitForAnimationToEnd
